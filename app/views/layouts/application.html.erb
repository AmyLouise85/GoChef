<!DOCTYPE html>
<html>
  <head>
    <title>Go Chef</title>    
    <%= csrf_meta_tags %>
    <%= stylesheet_link_tag  'reset' %>
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
   integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
   crossorigin=""/>
    <link href="https://fonts.googleapis.com/css?family=Roboto:100i,300,300i" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  </head>

  <body>
      <div class="main-container">
        <p class="notice"><%= notice %></p>
        <p class="alert"><%= alert %></p>
      <%= yield %>
    </div>
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
  </body>
  <script>
  var Carousel = function(id){
    console.log(this);
    console.log(document);
    var self = this;
    this.el = document.getElementById(id);
    console.log(this.el);
    this.imgs = this.el.querySelectorAll('img');
    console.log(this.imgs);
    this.currentImage = 0;  
    this.imgs[this.currentImage].classList.add('show');  
    //this.el.addEventListener('click', function(){ self.advanceImg() });
    window.setInterval(function(){ self.advanceImg() }, 5000);
  }
  Carousel.prototype.advanceImg = function(){
    this.currentImage++;
    if(this.currentImage === this.imgs.length){
      this.currentImage = 0;
    }
    for(var i=0; i< this.imgs.length; i++){
      if(this.currentImage === i){
        this.imgs[i].classList.add('show');
      }else{
        this.imgs[i].classList.remove('show');
      }
    }
  }

myCarousel = new Carousel("carousel");
</script>
</html>
